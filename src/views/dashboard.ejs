<!DOCTYPE html>
<html>
<head>
  <title>Admin Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-950 text-white min-h-screen p-8">

  <!-- Top Bar -->
  <div class="flex items-center justify-between mb-8">
    <h1 class="text-4xl font-bold text-purple-400 flex items-center gap-3">
      <i class="fas fa-chart-line"></i>
      Admin Dashboard
    </h1>

    <a
      href="/"
      class="px-4 py-2 rounded-lg bg-slate-800 border border-purple-500/40 hover:bg-slate-700 font-semibold text-sm"
    >
      â¬… Back to Homepage
    </a>
  </div>

  <p class="text-slate-400 mb-6 text-lg">
    Login / Logout Activity
  </p>

  <div class="overflow-x-auto border border-slate-700 rounded-lg">
    <table class="w-full text-left">
      <thead class="bg-slate-800 text-purple-300">
        <tr>
          <th class="p-3">#</th>
          <th class="p-3">Email</th>
          <th class="p-3">Login Time</th>
          <th class="p-3">Logout Time</th>
          <th class="p-3">Status</th>
        </tr>
      </thead>

      <tbody>
        <% if (!logs || logs.length === 0) { %>
          <tr>
            <td class="p-4 text-center text-slate-400" colspan="5">
              No login records yet.
            </td>
          </tr>
        <% } %>

        <% logs && logs.forEach((log, index) => { %>
          <tr class="border-t border-slate-700 hover:bg-slate-800/50">
            <td class="p-3"><%= index + 1 %></td>
            <td class="p-3"><%= log.email %></td>
            <td class="p-3">
              <%= log.loginAt ? new Date(log.loginAt).toLocaleString() : "-" %>
            </td>
            <td class="p-3">
              <%= log.logoutAt ? new Date(log.logoutAt).toLocaleString() : "Still Logged In / Closed" %>
            </td>
            <td class="p-3">
              <% if (log.logoutAt) { %>
                <span class="px-2 py-1 rounded-full text-xs bg-emerald-600/20 text-emerald-300 border border-emerald-500/40">
                  Logged Out
                </span>
              <% } else { %>
                <span class="px-2 py-1 rounded-full text-xs bg-yellow-600/20 text-yellow-300 border border-yellow-500/40">
                  Active / Unknown
                </span>
              <% } %>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>

</body>
</html>
